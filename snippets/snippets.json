{
    "header": {
        "prefix": "header",
        "body": [
            "###############################################################################",
            "# PROGRAM : $TM_FILENAME",
            "# CREATED : $CURRENT_YEAR-$CURRENT_MONTH-$CURRENT_DATET$CURRENT_HOUR:$CURRENT_MINUTE:$CURRENT_SECOND",
            "# VERSION : ${1:version}",
            "# AUTHOR  : ${2:author}",
            "# PURPOSE : ${3:purpose}",
            "# DEPENDENCIES:",
            "#\t\t${4:dependencies}",
            "###############################################################################"
        ],
        "description": "Header for 4GL programs"
    },
    "section": {
        "prefix": "section",
        "body": [
            "#######################################",
            "# ${1:Description}",
            "#######################################\n",
            "${2:}"
        ],
        "description": "Define the header or documentation for a function, a group of functions, or even a code block"
    },
    "select": {
        "prefix": "select",
        "body": [
            "SELECT ${1:fields}",
            "FROM   ${2:tables}",
            "WHERE  ${3:condition}",
            "AND    ${4:condition}",
            "ORDER BY ${5:colnumber}",
            "IF STATUS = NOTFOUND THEN",
            "\t-- Code when no record exists",
            "\t${6:}",
            "END IF"
        ],
        "description": "Writes a classic SELECT structure with ORDER BY by column number. Usage: fields, tables and conditions"
    },
    "select into": {
        "prefix": "select into",
        "body": [
            "SELECT ${1:fields} INTO   ${2:target}",
            "FROM   ${3:tables}",
            "WHERE  ${4:condition}",
            "AND    ${5:condition}",
            "ORDER BY ${6:colnumber}",
            "IF STATUS = NOTFOUND THEN",
            "\t-- Code when no record exists",
            "\t${7:}",
            "END IF"
        ],
        "description": "Returns SELECT values into a target (typically a RECORD) or specified variables."
    },
    "insert": {
        "prefix": "insert",
        "body": [
            "INSERT INTO ${1:table}",
            "VALUES (${2:fields})",
            "IF STATUS < 0 THEN",
            "\t-- Error handling",
            "\t${3:}",
            "END IF"
        ],
        "description": "Insert into the database"
    },
    "update": {
        "prefix": "update",
        "body": [
            "UPDATE ${1:table}",
            "SET    ${2:variables}",
            "WHERE  ${3:condition}",
            "AND    ${4:condition}",
            "IF STATUS < 0 THEN",
            "\t-- Error handling",
            "\t${5:}",
            "END IF"
        ],
        "description": "Update in the database"
    },
    "delete": {
        "prefix": "delete",
        "body": [
            "DELETE FROM ${1:table}",
            "WHERE ${2:condition}",
            "AND   ${3:condition}",
            "IF STATUS < 0 THEN",
            "\t-- Error handling",
            "\t${4:}",
            "END IF"
        ],
        "description": "Delete from the database"
    },
    "if": {
        "prefix": "if",
        "body": [
            "IF ${1:condition} THEN",
            "\t${2:}",
            "END IF\n"
        ],
        "description": "IF condition"
    },
    "foreach": {
        "prefix": "foreach",
        "body": [
            "INITIALIZE ${1:record}.* TO NULL",
            "FOREACH ${2:cursorName} INTO ${1:record}",
            "\t${3:}",
            "END FOREACH"
        ],
        "description": "Foreach on cursor"
    },
    "case": {
        "prefix": "case",
        "body": [
            "CASE ${1:variable} ",
            "\tWHEN ${2:#value}",
            "\t\t${3:}",
            "\tOTHERWISE",
            "\t\t${4:}",
            "END CASE",
            "\n"
        ],
        "description": "Declare the basic CASE structure"
    },
    "cursor": {
        "prefix": "cursor",
        "body": [
            "DECLARE ${1:cursorName} CURSOR FOR ",
            "\tSELECT ${2:fields}",
            "\tFROM   ${3:tables}",
            "\tWHERE  ${4:condition}",
            "\tAND    ${5:condition}",
            "\tORDER BY ${6:colnumber}"
        ],
        "description": "Simple cursor declaration composed by a SELECT"
    },
    "cursorForeach": {
        "prefix": "cursorForeach",
        "body": [
            "DECLARE ${1:cursor} CURSOR FOR ",
            "\tSELECT ${2:fields}",
            "\tFROM   ${3:tables}",
            "\tWHERE  ${4:condition}",
            "\tAND    ${5:condition}",
            "\tORDER BY ${6:colnumber}",
            "FOREACH ${1:cursor} INTO ${7:record}\n",
            "${8:}\n",
            "END FOREACH"
        ],
        "description": "Cursor that includes a SELECT and a FOREACH"
    },
    "function": {
        "prefix": "function",
        "body": [
            "FUNCTION ${1:functionName}(${2:parameters})",
            "\tDEFINE \t${3:variable}\t${4:type},",
            "\t\t\t${5:variable}\t${6:type}",
            "\t\t${7:}",
            "\tRETURN ${8:return}",
            "END FUNCTION\n"
        ],
        "description": "Declare function with basic definitions."
    },
    "record": {
        "prefix": "record",
        "body": [
            "${1:var} RECORD LIKE ${2:table}.*,"
        ],
        "description": "Declare a record based on a whole table"
    },
    "recordvar": {
        "prefix": "recordvar",
        "body": [
            "${1:var} RECORD ",
            "\t${2:variable}\t${3:type},",
            "\t${4:variable}\tLIKE\t${5:table}.${6:field}",
            "END RECORD"
        ],
        "description": "Declare record with custom structure, either manual definition or similar to a table field"
    },
    "error": {
        "prefix": "error",
        "body": [
            "ERROR \"${1:message}\"",
            "SLEEP ${2:sleep}"
        ],
        "description": "Show error with sleep"
    },
    "display": {
        "prefix": "display",
        "body": [
            "DISPLAY \"${1:value}\"",
            "SLEEP ${2:sleep}"
        ],
        "description": "Show display with sleep"
    },
    "displaybyname": {
        "prefix": "displaybyname",
        "body": [
            "DISPLAY BY NAME ${1:value}"
        ],
        "description": "Display by name"
    },
    "message": {
        "prefix": "message",
        "body": [
            "MESSAGE \"${1:message}\""
        ],
        "description": "Show a message"
    },
    "prepared": {
        "prefix": "prepared",
        "body": [
            "PREPARE ${1:prep} FROM ${2:sql_var}",
            "DECLARE ${3:curs} CURSOR FOR ${1:prep}",
            "OPEN    ${3:curs}",
            "INITIALIZE ${4:record}.* TO NULL",
            "FETCH ${3:curs} INTO ${4:record}.*",
            "CLOSE ${3:curs}",
            "FREE  ${3:curs}",
            "\n"
        ],
        "description": "Define a prepared statement and fetch into the chosen record; you must have a variable to hold the SQL"
    },
    "preparedForeach": {
        "prefix": "preparedForeach",
        "body": [
            "PREPARE ${1:prep} FROM ${2:sql_var}",
            "DECLARE ${3:curs} CURSOR FOR ${1:prep}",
            "OPEN    ${3:curs}",
            "\tINITIALIZE ${4:record}.* TO NULL",
            "\tFOREACH ${3:curs} INTO ${4:record}",
            "\t\t${5:}",
            "\tEND FOREACH",
            "CLOSE ${3:curs}",
            "FREE  ${3:curs}",
            "\n"
        ],
        "description": "Define a prepared statement and use it directly in a foreach; you must have a variable to hold the SQL"
    }
}
